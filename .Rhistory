knitr::opts_chunk$set(echo = TRUE)
require(dplyr)
require(sdcMicro)
require(readxl)
require(eeptools)
pri_data <- read_excel("data/private_dataE.xlsx")
# pub_reg_data <- read_excel("public_data_registerE.xlsx")
# pub_res_data <- read_excel("public_data_resultsE.xlsx")
pri_data$dob <- as.Date(pri_data$dob)
pri_data$age <- floor(age_calc(pri_data$dob, units = "years"))
print(pri_data)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
#print(sdc_obj@risk)
print(sdc_obj, type="kAnon")
print(sdc_obj, "risk")
#print(sdc_obj)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
#print(sdc_obj@risk)
print(sdc_obj, type="kAnon")
print(sdc_obj, "risk")
#print(sdc_obj)
knitr::opts_chunk$set(echo = TRUE)
require(dplyr)
require(sdcMicro)
require(readxl)
require(eeptools)
knitr::opts_chunk$set(echo = TRUE)
require(dplyr)
require(sdcMicro)
require(readxl)
require(eeptools)
pri_data <- read_excel("data/private_dataE.xlsx")
# pub_reg_data <- read_excel("public_data_registerE.xlsx")
# pub_res_data <- read_excel("public_data_resultsE.xlsx")
pri_data$dob <- as.Date(pri_data$dob)
pri_data$age <- floor(age_calc(pri_data$dob, units = "years"))
print(pri_data)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
#print(sdc_obj@risk)
print(sdc_obj, type="kAnon")
print(sdc_obj, "risk")
#print(sdc_obj)
require(dplyr)
require(sdcMicro)
require(readxl)
require(eeptools)
pri_data <- read_excel("data/private_dataE.xlsx")
# pub_reg_data <- read_excel("public_data_registerE.xlsx")
# pub_res_data <- read_excel("public_data_resultsE.xlsx")
pri_data$dob <- as.Date(pri_data$dob)
pri_data$age <- floor(age_calc(pri_data$dob, units = "years"))
print(pri_data)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
#print(sdc_obj@risk)
print(sdc_obj, type="kAnon")
print(sdc_obj, "risk")
#print(sdc_obj)
knitr::opts_chunk$set(echo = TRUE)
require(dplyr)
require(sdcMicro)
require(readxl)
require(eeptools)
pri_data <- read_excel("data/private_dataE.xlsx")
# pub_reg_data <- read_excel("public_data_registerE.xlsx")
# pub_res_data <- read_excel("public_data_resultsE.xlsx")
pri_data$dob <- as.Date(pri_data$dob)
pri_data$age <- floor(age_calc(pri_data$dob, units = "years"))
print(pri_data)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
#print(sdc_obj@risk)
print(sdc_obj, type="kAnon")
print(sdc_obj, "risk")
#print(sdc_obj)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age", "sex", "citizenship", "marital_status"))
prammed <- pram(sdc_obj, variables = "sex", strata_variables = NULL, pd = 0.1, alpha = 0.5)
kAnon_violations(prammed, TRUE, 2)
#globalRecode(pri_data$age, breaks = 6)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age", "sex", "citizenship", "marital_status"))
sdc_obj <- globalRecode(sdc_obj, column="age", breaks=8)
manip_data <- get.sdcMicroObj(sdc_obj, type="manipKeyVars")
print(manip_data)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
# print(sdc_obj)
kAnon_violations(sdc_obj, TRUE, 5)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age", "sex", "citizenship", "marital_status"))
suppressed <- localSuppression(sdc_obj)
print(suppressed)
knitr::opts_chunk$set(echo = TRUE)
require(dplyr)
require(sdcMicro)
require(readxl)
require(eeptools)
pri_data <- read_excel("data/private_dataE.xlsx")
# pub_reg_data <- read_excel("public_data_registerE.xlsx")
# pub_res_data <- read_excel("public_data_resultsE.xlsx")
pri_data$dob <- as.Date(pri_data$dob)
pri_data$age <- floor(age_calc(pri_data$dob, units = "years"))
pri_data_test <- head(pri_data,10)
print(pri_data_test)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
#print(sdc_obj@risk)
print(sdc_obj, type="kAnon")
print(sdc_obj, "risk")
#print(sdc_obj)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age", "sex", "citizenship", "marital_status"))
sdc_obj <- pram(sdc_obj, variables = "sex", strata_variables = NULL, pd = 0.8, alpha = 0.5)
# kAnon_violations(prammed, TRUE, 2)
anonymized_data <- extractManipData(sdc_obj)
print(anonymized_data)
#globalRecode(pri_data$age, breaks = 6)
pri_data$age_group <- cut(pri_data$age, breaks=c(0, 18, 30, 40, 50, 60, 70, 80, 100),
labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"),
right=FALSE)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age_group", "sex", "citizenship", "marital_status"))
#age_breaks <- c(0, 18, 30, 40, 50, 60, 70, 80, 100)  # Adjust these as needed
#sdc_obj <- globalRecode(sdc_obj, column="age_group", breaks=age_breaks, labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"))
#manip_data <- get.sdcMicroObj(sdc_obj, type="manipKeyVars")
anonymized_data <- extractManipData(sdc_obj)
print(anonymized_data)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
# print(sdc_obj)
kAnon_violations(sdc_obj, TRUE, 5)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age", "sex", "citizenship", "marital_status"))
suppressed <- localSuppression(sdc_obj)
print(suppressed)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age", "sex", "citizenship", "marital_status"))
sdc_obj <- pram(sdc_obj, variables = "sex", strata_variables = NULL, pd = 0.8, alpha = 0.5)
# kAnon_violations(prammed, TRUE, 2)
anonymized_data <- extractManipData(sdc_obj)
print(anonymized_data)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
#print(sdc_obj@risk)
print(sdc_obj, type="kAnon")
print(sdc_obj, "risk")
#print(sdc_obj)
#globalRecode(pri_data$age, breaks = 6)
pri_data$age_group <- cut(pri_data$age, breaks=c(0, 18, 30, 40, 50, 60, 70, 80, 100),
labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"),
right=FALSE)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age_group", "sex", "citizenship", "marital_status"))
#age_breaks <- c(0, 18, 30, 40, 50, 60, 70, 80, 100)  # Adjust these as needed
#sdc_obj <- globalRecode(sdc_obj, column="age_group", breaks=age_breaks, labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"))
#manip_data <- get.sdcMicroObj(sdc_obj, type="manipKeyVars")
anonymized_data <- extractManipData(sdc_obj)
print(anonymized_data)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
#print(sdc_obj@risk)
print(sdc_obj, type="kAnon")
print(sdc_obj, "risk")
#print(sdc_obj)
require(dplyr)
require(sdcMicro)
require(readxl)
require(eeptools)
require(openxlsx)
install.packages("openxlsx")
require(dplyr)
require(sdcMicro)
require(readxl)
require(eeptools)
require(openxlsx)
pri_data <- read_excel("data/private_dataE.xlsx")
# pub_reg_data <- read_excel("public_data_registerE.xlsx")
# pub_res_data <- read_excel("public_data_resultsE.xlsx")
pri_data$dob <- as.Date(pri_data$dob)
pri_data$age <- floor(age_calc(pri_data$dob, units = "years"))
pri_data_test <- head(pri_data,10)
print(pri_data_test)
Creating a sdc object and computing initial risks: global risk and k-anonymity
require(dplyr)
require(sdcMicro)
require(readxl)
require(eeptools)
require(openxlsx)
knitr::opts_chunk$set(echo = TRUE)
require(dplyr)
require(sdcMicro)
require(readxl)
require(eeptools)
require(openxlsx)
pri_data <- read_excel("data/private_dataE.xlsx")
# pub_reg_data <- read_excel("public_data_registerE.xlsx")
# pub_res_data <- read_excel("public_data_resultsE.xlsx")
pri_data$dob <- as.Date(pri_data$dob)
pri_data$age <- floor(age_calc(pri_data$dob, units = "years"))
pri_data_test <- head(pri_data,10)
print(pri_data_test)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
#print(sdc_obj@risk)
print(sdc_obj, type="kAnon")
print(sdc_obj, "risk")
#print(sdc_obj)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age", "sex", "citizenship", "marital_status"))
sdc_obj <- pram(sdc_obj, variables = "sex", strata_variables = NULL, pd = 0.8, alpha = 0.5)
# kAnon_violations(prammed, TRUE, 2)
anonymized_data <- extractManipData(sdc_obj)
print(anonymized_data)
#globalRecode(pri_data$age, breaks = 6)
pri_data$age_group <- cut(pri_data$age, breaks=c(0, 18, 30, 40, 50, 60, 70, 80, 100),
labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"),
right=FALSE)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age_group", "sex", "citizenship", "marital_status"))
#age_breaks <- c(0, 18, 30, 40, 50, 60, 70, 80, 100)  # Adjust these as needed
#sdc_obj <- globalRecode(sdc_obj, column="age_group", breaks=age_breaks, labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"))
#manip_data <- get.sdcMicroObj(sdc_obj, type="manipKeyVars")
anonymized_data <- extractManipData(sdc_obj)
print(anonymized_data)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("dob", "sex", "citizenship", "marital_status"))
# print(sdc_obj)
kAnon_violations(sdc_obj, TRUE, 5)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age", "sex", "citizenship", "marital_status"))
suppressed <- localSuppression(sdc_obj)
print(suppressed)
#globalRecode(pri_data$age, breaks = 6)
pri_data$age_group <- cut(pri_data$age, breaks=c(0, 18, 30, 40, 50, 60, 70, 80, 100),
labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"),
right=FALSE)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age_group", "sex", "citizenship", "marital_status"))
#age_breaks <- c(0, 18, 30, 40, 50, 60, 70, 80, 100)  # Adjust these as needed
#sdc_obj <- globalRecode(sdc_obj, column="age_group", breaks=age_breaks, labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"))
#manip_data <- get.sdcMicroObj(sdc_obj, type="manipKeyVars")
anonymized_data <- extractManipData(sdc_obj)
print(anonymized_data)
write.xlsx(anonymized_data, file = "anon_data_global_recoding.xlsx")
#globalRecode(pri_data$age, breaks = 6)
pri_data$age_group <- cut(pri_data$age, breaks=c(0, 18, 30, 40, 50, 60, 70, 80, 100),
labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"),
right=FALSE)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age_group", "sex", "citizenship", "marital_status"))
#age_breaks <- c(0, 18, 30, 40, 50, 60, 70, 80, 100)  # Adjust these as needed
#sdc_obj <- globalRecode(sdc_obj, column="age_group", breaks=age_breaks, labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"))
#manip_data <- get.sdcMicroObj(sdc_obj, type="manipKeyVars")
anonymized_data <- extractManipData(sdc_obj)
print(anonymized_data)
anon_data <- anonymized_data[, !c("dob", "age")]
#globalRecode(pri_data$age, breaks = 6)
pri_data$age_group <- cut(pri_data$age, breaks=c(0, 18, 30, 40, 50, 60, 70, 80, 100),
labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"),
right=FALSE)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age_group", "sex", "citizenship", "marital_status"))
#age_breaks <- c(0, 18, 30, 40, 50, 60, 70, 80, 100)  # Adjust these as needed
#sdc_obj <- globalRecode(sdc_obj, column="age_group", breaks=age_breaks, labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"))
#manip_data <- get.sdcMicroObj(sdc_obj, type="manipKeyVars")
anonymized_data <- extractManipData(sdc_obj)
print(anonymized_data)
anon_data <- anonymized_data[, !(colnames(anonymized_data) %in% c("dob", "age"))]
print(anon_data)
write.xlsx(anonymized_data, file = "anon_data_global_recoding.xlsx")
#globalRecode(pri_data$age, breaks = 6)
pri_data$age_group <- cut(pri_data$age, breaks=c(0, 18, 30, 40, 50, 60, 70, 80, 100),
labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"),
right=FALSE)
sdc_obj <- createSdcObj(dat = pri_data, keyVars = c("age_group", "sex", "citizenship", "marital_status"))
#age_breaks <- c(0, 18, 30, 40, 50, 60, 70, 80, 100)  # Adjust these as needed
#sdc_obj <- globalRecode(sdc_obj, column="age_group", breaks=age_breaks, labels=c("0-18", "19-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81+"))
#manip_data <- get.sdcMicroObj(sdc_obj, type="manipKeyVars")
anonymized_data <- extractManipData(sdc_obj)
print(anonymized_data)
anon_data <- anonymized_data[, !(colnames(anonymized_data) %in% c("dob", "age"))]
print(anon_data)
write.xlsx(anon_data, file = "anon_data_global_recoding.xlsx")
